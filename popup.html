<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title></title>
  <style type="text/css">
  @import url('https://fonts.googleapis.com/css?family=Montserrat:300,600&display=swap');

  body {
    font-family: 'Ratio-Medium', 'Montserrat', sans-serif;
    /* margin: 10px; */
    /* font-size: 16px; */
    background: #fff;
  }
  span{
    /*white-space: normal;*/
  }
  p, h2, h3, ul, div.prefContainer{
    max-width: 96%;
    margin: 10px auto;
  }
  h2{
    margin-top: 1em;
  }

  .container{
    min-width: 400px;
  }

  #prefTitle, .prefContainer{
    display: none;
  }
  #langTick{
    display: none;
  }

  </style>
  <script src="popup.js"></script>
</head>

<body>
  <h2 id="prefTitle">Préférences</h2>
  <div class="prefContainer">
    <label id="langLabel" for="langSelect">Langue:</label>

    <select id="langSelect">
        <option id="option-de" value="de">allemand</option>
        <option id="option-fr" value="fr">français</option>
    </select>

   <span id="langTick">✓</span>
  </div>

  <h2 id="popupHeader">Méthode</h1>
  <div class="container">
    <p id="popupInfoLine1">A partir de la liste nominative des parlementaires suisses, cette extension, <a target="_blank" href="https://labs.letemps.ch/parliament-extension/">«Intérêts des parlementaires»</a>, repère leurs mentions sur les sites de médias. Leurs noms sont mis en gras et deviennent cliquables.</p>
    <p id="popupInfoLine2">Lorsqu’on clique sur le nom d’un élu ou d’une élue, une requête est envoyée à lobbywatch.ch pour obtenir ses liens d’intérêts et les noms de ses invités au Parlement. L’association Lobbywatch, fondée par deux journalistes du «Beobachter» et un informaticien, publie ses données en licence libre.</p>
    <p class="popupInfoMore">Comme les élus sont repérés par leur prénom et nom, cet outil peut les confondre avec des homonymes et afficher des liens d’intérêt pour des personnes ne siégeant pas au Parlement.</p>
    <p class="popupInfoMore">L’extension «Intérêts des parlementaires» a été développée par le journal «Le Temps» qui a exploité les données ouvertes de Lobbywatch. Le code de l’extension est disponible sur GitHub en licence libre et open-source. Lobbywatch effectue son travail indépendamment de la rédaction du Temps. </p>
    <p class="popupInfoMore">L’extension ne collecte aucune donnée sur les personnes l’ayant installée, ou sur son usage.</p>
    <p class="popupInfoMore">Elle fonctionne sur une liste volontairement restreinte de sites médias. Pour demander l’ajout d’un nouveau site: <a href="mailto:data@letemps.ch">data@letemps.ch</a></p>
    <p class="popupInfoMore">Pourquoi «Le Temps» a développé cette extension: <a target="blank" href="https://www.letemps.ch/suisse/liens-dinteret-parlementaires-portee-clic">notre article</a></p>
    <p><span id="popupInfoLine3">Plus d’informations sur l’association Lobbywatch:</span> <a target="blank" href="https://lobbywatch.ch/fr">lobbywatch.ch</a></p>


    <h3 class="popupInfoMore">Détails techniques</h3>
    <ul class="popupInfoMore">
      <li>la recherche est limitée aux balises &lt;p&gt; (paragraphe)</li>
      <li>la liste des parlementaires est stockée sur labs au format JSON et mise en cache dans les données locales du navigateur (localStorage), d’où une demande de permission «localStorage»</li>
      <li>la base de données de Lobbywatch est interrogée avec une requête GraphQL, et renvoie le résultat au format JSON</li>
      <li>lors de mises à jour, si de nouveaux sites de médias sont ajoutés, l’extension demande à nouveau la permission d’accéder aux données de tous les sites concernés</li>
    </ul>
  </div>

</body>
</html>
